= render "filters"

.row
  .col
    - if @alerts.empty?
      = empty_data title: "No alert groups", icon: 'icon-outline-alert xx-large' do |c|
        - c.body do
          %h1 There are no alert groups at #{truncated_navigation_context_entity_name}
          %p Create alert groups in order to keep your team notified on current events
    - else
      = cdx_table title: pluralize(@total, "Alert Group") do |t|
        - t.columns do
          %col{:width => "15%"}
          %col{:width => "20%"}
          %col{:width => "10%"}
          %col{:width => "15%"}
          %col{:width => "15%"}
          %col{:width => "25%"}
        - t.thead do
          %tr
            %th
              %div.tooltip 
                Name
                %div.tooltiptext_r 
                  This is the Name of the Alert.
            %th
              %div.tooltip
                Description
                %div.tooltiptext_r 
                  A meaningful Description about
                  %br
                  What the Alert entails.
            %th
              %div.tooltip
                Enabled
                %div.tooltiptext_r 
                  Is this Alert Enabled?
            %th
              %div.tooltip
                Sites
                %div.tooltiptext_r 
                  Which Site(s) this Alert will trigger for.
            %th
              %div.tooltip
                Roles
                %div.tooltiptext_r 
                  Something about Roles.
            %th
              %div.tooltip
                Last Incident
                %div.tooltiptext_b 
                  When the Last Incident was reported.

        - t.tbody do
          - @alerts.each do |alert|
            %tr
              %td= link_to truncate(alert.name, length: 20), edit_alert_group_path(alert)
              %td= link_to truncate(alert.description, length: 20), edit_alert_group_path(alert)
              %td= link_to alert.enabled ? 'yes' : 'no', edit_alert_group_path(alert)
              %td= link_to display_sites(alert), edit_alert_group_path(alert)
              %td= link_to display_roles(alert), edit_alert_group_path(alert)
              %td= link_to display_latest_alert_date(alert), edit_alert_group_path(alert)

      .pagination
        = render 'shared/pagination'
