= form_for(@device) do |f|
  - if @device.errors.present?
    .alert-container
      .alert.alert-error
        %ul
          - @device.errors.full_messages.each do |msg|
            %li= msg

  - if @device.new_record?
    .control-group
      = f.label :institution, class: 'control-label'
      .control
        = f.collection_select :institution_id, @institutions, :id, :name
  - else
    %p
      Institution:
      = @device.institution

  .control-group
    = f.label :name, :class => 'control-label'
    .controls
      = f.text_field :name
  .control-group
    = f.label :device_model_id, :class => 'control-label'
    .controls
      = f.collection_select :device_model_id, DeviceModel.active, :id, :name
  .control-group
    = f.label :laboratory, :class => 'control-label'
    .controls
      .checks
        = f.collection_select(:laboratory_id, @laboratories, :id, :name, include_blank: true)
  .control-group
    = f.label :time_zone
    .controls
      = f.time_zone_select(:time_zone, nil, default: "UTC")

  .control-group
    .controls
      = f.submit class: 'btn'
