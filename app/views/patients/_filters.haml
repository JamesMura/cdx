- content_for(:subheader) do
  %div.filterbar.filterbartest
    .heading
      .title
        = I18n.t('patients.filters.patients')
      .topfilteropt
        - if has_access?(@navigation_context.institution, Policy::Actions::CREATE_INSTITUTION_PATIENT)
          = link_to I18n.t('patients.filters.add_patient'), new_patient_path, class: 'btn-add side-link fix', title: I18n.t('patients.filters.add_patient')



  %form.filteroptions#filters-form{ action: patients_path, "data-auto-submit" => true }
    %input{type: "hidden", name: "page_size", value: @page_size}
    .row.custom_filters.center
      .advanced.patientsFilter
        .row
          .filter
            %label.block
              = I18n.t('patients.filters.name')
            %input.input-block{ type: "text", name: "name", value: params["name"] }
          .filter
            %label.block
              = I18n.t('patients.filters.patient_id')
            %input.input-block{ type: "text", name: "entity_id", value: params["entity_id"] }
          .filter
            %input#clear_button.btn-primary(type='clear' value="#{I18n.t('patients.filters.clear_button')}")

  :javascript
    $(document).ready( function()
    {
      $('#clear_button').on('click', function()
      {
        $('input#name').val('');
        $('input#entity_id').val('');
        $('input#last_encounter').val('');
        $('#filters-form').submit();
      });
    });
